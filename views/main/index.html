{% extends 'layout.html' %}

{% block content%}
    {% for item in contents %}
        <div class="card" style="width: 100%; margin-bottom: 20px;">
            <img class="card-img-top" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1484094858,4050549698&fm=200&gp=0.jpg" alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">{{item.title}}</h5>
                <p class="card-text">{{item.description}}</p>
            </div>
            <div class="card-body">
                <span>作者:{{item.username}}</span>
                <span>时间:{{item.add_time|date('Y年m月d日 H:i:s', -8*60)}}</span>
                <span>阅读:{{item.views}}</span>
                <span>评论:{{item.comments.length}}</span>
                <div><a href="/view?content_id={{item.content_id}}">阅读全文</a></div>
            </div>
            
        </div>
        {% endfor %}
        <div class="pages">
            <ul>
                <li>
                    
                    {% if page<= 1%}
                        <span>没有上一页了</span>
                    {% else %}
                        <a href="/?category={{category}}&page={{page-1}}">上一页</a>
                    {% endif %}
                </li>
                {% if pages !== 0 %}
                    <li>{{page}}/{{pages}}</li>
                {% endif %}
                
                <li>
                    {% if page >= pages%}
                        <span>没有下一页了</span>
                    {% else %}
                        <a href="/?category={{category}}&page={{page+1}}">上一页</a>
                    {% endif %}
                </li>
            </ul>
        </div>
{% endblock%}